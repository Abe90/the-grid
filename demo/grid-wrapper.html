<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../the-grid.html">
<link rel="import" href="../debug-grid.html">

<!--
`<grid-wrapper>` is a container element that wraps <the-grid> for testing purpose and ensure its proper behavior when nested.

Example:

    <grid-wrapper></grid-wrapper>
-->

<dom-module id="grid-wrapper">
    <template>
        <style>
            :host {
                display: block;
            }

            the-grid .tile {
                background: #ff4d43;
                opacity: 0.9;
                color: white;
                cursor: move;
                overflow: hidden;
            }

            the-grid [placeholder] {
                background: #afafaf;
            }

            the-grid .tile > span {
                position: absolute;
            }

            the-grid .tile > span:first-child {
                top: 50%;
                left: 50%;
                margin-left: -15px;
                margin-top: -25px;
                font-size: 50px;
            }

            the-grid [resize="bottom-right"] {
                bottom: 0;
                right: 0;
                cursor: nwse-resize;
            }

            the-grid [resize="bottom-left"] {
                bottom: 0;
                left: 0;
                cursor: nesw-resize;
            }

            the-grid [resize="top-right"] {
                top: 0;
                right: 0;
                cursor: nesw-resize;
            }

            the-grid [resize="top-left"] {
                top: 0;
                left: 0;
                cursor: nwse-resize;
            }

            the-grid [resize="left"] {
                top: 50%;
                left: 0;
                cursor: ew-resize;
                margin-top: -10px;
            }

            the-grid [resize="top"] {
                top: 0%;
                width: 100%;
                text-align: center;
                cursor: ns-resize;
            }

            the-grid [resize="right"] {
                top: 50%;
                right: 0;
                cursor: ew-resize;
                margin-top: -10px;
            }

            the-grid [resize="bottom"] {
                bottom: 0;
                width: 100%;
                text-align: center;
                cursor: ns-resize;
            }

            dom-repeat {
                display: none;
            }
        </style>

        <div id="container">
            <debug-grid cell-height="100" cell-width="100" cell-margin="10" col-count="10" row-count="10"></debug-grid>
            <the-grid draggable resizable animated cell-height="100" cell-width="100" col-count="10" row-count="10" cell-margin="10">
                <dom-repeat items="{{boxes}}">
                    <template>
                        <div class="tile" col$="{{item.col}}" row$="{{item.row}}" height$="{{item.height}}" width$="{{item.width}}">
                            <span>{{item.title}}</span>
                            <span resize="left">│</span>
                            <span resize="right">│</span>
                            <span resize="top">─</span>
                            <span resize="bottom">─</span>
                            <span resize="top-right">┐</span>
                            <span resize="top-left">┌</span>
                            <span resize="bottom-right">┘</span>
                            <span resize="bottom-left">└</span>
                        </div>
                    </template>
                </dom-repeat>
                <div placeholder></div>
            </the-grid>
        </div>
    </template>

    <script>
        class GridWrapper extends Polymer.Element {

            static get is() { return 'grid-wrapper'; }

            static get properties() {
                return {
                    boxes: {
                        type: Array,
                        value: function () {
                            return [{title: 'hello', col: 3, row: 3, width: 2, height: 1}];
                        }
                    }
                }
            }

            constructor() {
                super();
            }
        }

        customElements.define(GridWrapper.is, GridWrapper);
    </script>
</dom-module>
